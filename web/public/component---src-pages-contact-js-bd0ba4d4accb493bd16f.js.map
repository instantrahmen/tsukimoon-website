{"version":3,"sources":["webpack:///./src/components/container.js","webpack:///./src/pages/contact.js","webpack:///./src/containers/layout.js","webpack:///./src/components/graphql-error-list.js"],"names":["generateHotspot","coverPhoto","hotspot","x","Math","floor","y","Container","children","coverColor","coverPhotoHeight","fullWidth","location","useLocation","pageOrder","currentPage","pathname","direction","current","prev","diff","console","log","getDirection","indexOf","arr","str","index","findIndex","value","includes","fuzzyIndexOf","state","prevPath","animateFromSide","initial","abs","animate","exit","transition","type","duration","Root","className","color","asset","div","key","maxWidth","node","noCaption","styled","ContactPage","props","data","errors","siteSettings","site","PageContainer","title","headerImages","name","method","data-netlify","data-netlify-honeypot","aria-label","placeholder","required","h1","LayoutContainer","useState","showNav","setShowNav","currentHeaderImage","setCurrentHeaderImage","handleShowNav","handleHideNav","query","render","Error","nextHeaderImage","amount","length","prevImage","newImage","undefined","useEffect","window","headerInterval","setInterval","clearInterval","siteTitle","siteHeaderImages","onHideNav","onShowNav","GraphQLErrorList","map","error","message"],"mappings":"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","file":"component---src-pages-contact-js-bd0ba4d4accb493bd16f.js","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport { buildImageObj } from '../lib/helpers';\nimport { imageUrlFor } from '../lib/image-url';\nimport Figure from '../components/Figure';\nimport { useLocation } from '@reach/router';\nimport { AnimatePresence, motion } from 'framer-motion';\n\nconst getDirection = (current = 0, prev = 0) => {\n  if (current === -1) return 0;\n  const diff = current - prev;\n  console.log({ current, prev, diff });\n\n  if (diff < 0) return -1;\n  if (diff > 0) return 1;\n  return 0;\n};\n\nconst fuzzyIndexOf = (arr, str) => {\n  if (str === '/') return 0;\n\n  const index = arr.findIndex(value => {\n    if (value === '/') return false;\n    console.log({ value, str, includes: str.includes(value) });\n    return str.includes(value);\n  });\n\n  console.log({ index, str });\n  return index;\n};\nconst Container = ({\n  children,\n  coverPhoto,\n  coverColor = '#1a1',\n  coverPhotoHeight = 400,\n  fullWidth = false\n}) => {\n  const location = useLocation();\n  // const location = typeof useLocation === 'function' ? useLocation() : { pathname: '/', state: {} };\n  const pageOrder = ['/', '/about-tsuki', '/family', '/gallery', '/contact'];\n\n  const currentPage = location.pathname;\n  const currentPageIndex = pageOrder.indexOf(currentPage);\n\n  const prevPage = (location.state && location.state.prevPath) || currentPage;\n  // const prevPageIndex = pageOrder.indexOf(prevPage);\n  const prevPageIndex = fuzzyIndexOf(pageOrder, prevPage);\n\n  const direction = getDirection(currentPageIndex, prevPageIndex);\n  // console.log({ location, direction, prevPage, currentPage });\n\n  const animateFromSide = {\n    initial: { x: 1000 * direction, y: 1000 * Math.abs(Math.abs(direction) - 1) },\n    animate: { x: 0, y: 0 },\n    exit: { x: -1000 * direction, y: -1000 * Math.abs(Math.abs(direction) - 1) },\n    transition: { type: 'spring', duration: 0.8 }\n  };\n\n  const animateFromTop = {\n    initial: { y: -1000 },\n    animate: { y: 0 },\n    exit: { y: -1000 },\n    transition: { type: 'spring', duration: 0.5 }\n  };\n  const hotspot = generateHotspot(coverPhoto);\n  return (\n    <AnimatePresence>\n      <Root className={'root'} hotspot={hotspot} color={coverColor} fullWidth={fullWidth}>\n        {coverPhoto && coverPhoto.asset && (\n          <motion.div\n            className={'mainImage'}\n            key={`header-${location.pathname}`}\n            {...animateFromTop}\n          >\n            <Figure maxWidth={1920} node={coverPhoto} noCaption className=\"img-container\" />\n          </motion.div>\n        )}\n        {!coverPhoto && <div className={'mainImage'}></div>}\n        <motion.div\n          className=\"page-content\"\n          key={`content-${location.pathname}`}\n          {...animateFromSide}\n        >\n          {children}\n        </motion.div>\n      </Root>\n    </AnimatePresence>\n  );\n};\n\nconst generateHotspot = coverPhoto => {\n  if (!coverPhoto || !coverPhoto.hotspot) {\n    return { x: 'center', y: 'center' };\n  }\n  return {\n    x: `${Math.floor(coverPhoto.hotspot.x * 100)}%`,\n    y: `${Math.floor(coverPhoto.hotspot.y * 100)}%`\n  };\n};\n\nexport default Container;\n\nconst Root = styled.div`\n  .page-content {\n    background: #efefef;\n    min-height: 100vh;\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n    width: 100vw;\n    margin: 0 auto;\n    position: relative;\n    max-width: ${({ fullWidth }) => (fullWidth ? '100%' : '1200px')};\n    box-sizing: border-box;\n    padding: 1rem;\n    h1,\n    h2,\n    h3,\n    h4 {\n      margin: 0;\n      padding: 1rem 0;\n    }\n  }\n\n  .mainImage {\n    margin-top: -79px;\n    width: 100%;\n    background: black;\n    position: sticky;\n    top: calc(-400px + 79px);\n\n    z-index: 10;\n    left: 0%;\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n    height: ${({ coverPhotoHeight = 400 }) => `${coverPhotoHeight}px`};\n    border-bottom: 1px solid ${({ color }) => color};\n    display: flex;\n    background: ${({ color }) => color};\n\n    image-rendering: pixelated;\n    /* filter: blur(3px) contrast(115%) brightness(100%); */\n    @media (max-width: 904px) {\n      top: calc(-400px + 67px);\n    }\n    figure {\n      width: 100%;\n      margin: 0 auto;\n      height: ${({ coverPhotoHeight = 400 }) => `${coverPhotoHeight}px`};\n      overflow: hidden;\n\n      .gatsby-image-wrapper {\n        width: 100%;\n        height: 100%;\n      }\n\n      img {\n        object-fit: cover;\n        object-position: ${({ hotspot }) => `${hotspot.x} ${hotspot.y}`} !important;\n        width: 100%;\n        height: 100%;\n      }\n    }\n  }\n`;\n","import React from 'react';\nimport { graphql } from 'gatsby';\nimport styled from 'styled-components';\nimport Container from '../components/container';\nimport GraphQLErrorList from '../components/graphql-error-list';\nimport SEO from '../components/seo';\nimport Layout from '../containers/layout';\n\nexport const query = graphql`\n  query ContactPageQuery {\n    site: sanitySiteSettings(_id: { regex: \"/(drafts.|)siteSettings/\" }) {\n      title\n      description\n      keywords\n      tagline\n      familyCoverPhoto {\n        ...SanityImageFragment\n      }\n      headerImages {\n        ...SanityImageFragment\n      }\n    }\n  }\n`;\n\nconst ContactPage = props => {\n  const { data, errors } = props;\n\n  if (errors) {\n    return (\n      <Layout>\n        <GraphQLErrorList errors={errors} />\n      </Layout>\n    );\n  }\n\n  const siteSettings = data.site;\n\n  return (\n    <PageContainer>\n      <Layout>\n        <SEO title=\"Tsuki's Family\" />\n        <Container coverPhoto={siteSettings.headerImages[0]}>\n          <h1>Get in contact with me!</h1>\n          <form name=\"contact\" method=\"post\" data-netlify=\"true\" data-netlify-honeypot=\"bot-field\">\n            <input type=\"hidden\" name=\"bot-field\" />\n            <input type=\"hidden\" name=\"form-name\" value=\"contact\" />\n            <input\n              aria-label=\"name\"\n              className=\"name\"\n              placeholder=\"name\"\n              type=\"text\"\n              name=\"name\"\n              required\n            />\n\n            <input\n              aria-label=\"email\"\n              className=\"email\"\n              placeholder=\"email\"\n              type=\"email\"\n              name=\"email\"\n              required\n            />\n\n            <textarea\n              required\n              aria-label=\"message\"\n              name=\"message\"\n              placeholder=\"message\"\n              className=\"message\"\n            />\n            <div className=\"submit\">\n              <button name=\"submit\" type=\"submit\">\n                Send\n              </button>\n            </div>\n          </form>\n        </Container>\n      </Layout>\n    </PageContainer>\n  );\n};\n\nexport default ContactPage;\n\nconst PageContainer = styled.div`\n  h1,\n  h2,\n  h3 {\n    text-align: center;\n  }\n  form {\n    display: grid;\n    /* grid-template-columns: 1fr 1fr; */\n    grid-template-areas:\n      'name email'\n      'message message'\n      'submit submit';\n\n    width: 904px;\n    max-width: 100%;\n    margin: 0 auto;\n    box-sizing: border-box;\n    grid-gap: 10px;\n\n    @media (max-width: 904px) {\n      grid-template-areas:\n        'name name'\n        'email email'\n        'message message'\n        'submit submit';\n    }\n  }\n\n  input,\n  textarea {\n    padding: 0.5rem;\n    border: 1px solid #999;\n    border-radius: 0.3rem;\n    font-size: 1rem;\n    width: 100%;\n    height: 100%;\n    box-sizing: border-box;\n  }\n\n  .name {\n    grid-area: name;\n  }\n  .email {\n    grid-area: email;\n  }\n\n  .message {\n    grid-area: message;\n    /* height: 20rem; */\n    height: 300px;\n  }\n\n  .submit {\n    grid-area: submit;\n    overflow: hidden;\n    position: relative;\n    width: 100%;\n    height: 3rem;\n\n    button {\n      width: 100%;\n      height: 100%;\n      background: #68bd5e;\n      border: 1px solid #23ac78;\n      border-radius: 0.3rem;\n    }\n  }\n`;\n\nconst H1 = styled.h1`\n  font-size: 2.5rem;\n  text-align: center;\n  margin: 0;\n  padding: 2rem;\n`;\n","import { graphql, StaticQuery } from 'gatsby';\nimport React, { useState, useEffect } from 'react';\nimport Layout from '../components/layout';\n\nconst query = graphql`\n  query SiteTitleQuery {\n    site: sanitySiteSettings(_id: { regex: \"/(drafts.|)siteSettings/\" }) {\n      title\n      headerImages {\n        ...SanityImageFragment\n      }\n    }\n  }\n`;\n\nfunction LayoutContainer(props) {\n  const [showNav, setShowNav] = useState(false);\n  const [currentHeaderImage, setCurrentHeaderImage] = useState(0);\n\n  function handleShowNav() {\n    setShowNav(true);\n  }\n  function handleHideNav() {\n    setShowNav(false);\n  }\n\n  return (\n    <StaticQuery\n      query={query}\n      render={data => {\n        if (!data.site) {\n          throw new Error(\n            'Missing \"Site settings\". Open the Studio at http://localhost:3333 and some content in \"Site settings\"'\n          );\n        }\n\n        const nextHeaderImage = (amount = 1) => {\n          if (amount < 0) {\n            return setCurrentHeaderImage(data.site.headerImages.length - 1);\n          }\n\n          setCurrentHeaderImage(prevImage => {\n            const newImage = prevImage + amount;\n            if (data.site.headerImages[newImage] === undefined) {\n              return 0;\n            } else {\n              return newImage;\n            }\n          });\n        };\n\n        useEffect(() => {\n          if (!window) return;\n          const headerInterval = setInterval(() => {\n            nextHeaderImage(1);\n          }, 5000);\n\n          return () => {\n            clearInterval(headerInterval);\n          };\n        }, []);\n\n        return (\n          <Layout\n            {...props}\n            showNav={showNav}\n            siteTitle={data.site.title}\n            siteHeaderImages={data.site.headerImages}\n            nextHeaderImage={nextHeaderImage}\n            currentHeaderImage={currentHeaderImage}\n            setCurrentHeaderImage={setCurrentHeaderImage}\n            onHideNav={handleHideNav}\n            onShowNav={handleShowNav}\n          />\n        );\n      }}\n    />\n  );\n}\n\nexport default LayoutContainer;\n","import React from 'react'\n\nconst GraphQLErrorList = ({ errors }) => (\n  <div>\n    <h1>GraphQL Error</h1>\n    {errors.map(error => (\n      <pre key={error.message}>{error.message}</pre>\n    ))}\n  </div>\n)\n\nexport default GraphQLErrorList\n"],"sourceRoot":""}