{"version":3,"sources":["webpack:///./src/components/container.js","webpack:///../node_modules/@sanity/block-content-to-react/lib/targets/dom.js","webpack:///../node_modules/@sanity/block-content-to-hyperscript/lib/getImageUrl.js","webpack:///../node_modules/@sanity/block-content-to-hyperscript/lib/blocksToNodes.js","webpack:///../node_modules/@sanity/block-content-to-hyperscript/lib/generateKeys.js","webpack:///../node_modules/@sanity/block-content-to-hyperscript/internals.js","webpack:///../node_modules/@sanity/block-content-to-hyperscript/lib/mergeSerializers.js","webpack:///../node_modules/@sanity/block-content-to-hyperscript/lib/buildMarksTree.js","webpack:///./src/components/serializers.js","webpack:///./src/components/portableText.js","webpack:///../node_modules/@sanity/block-content-to-hyperscript/lib/serializers.js","webpack:///./src/containers/layout.js","webpack:///../node_modules/@sanity/block-content-to-hyperscript/lib/nestLists.js","webpack:///../node_modules/@sanity/block-content-to-hyperscript/node_modules/@sanity/generate-help-url/index.js","webpack:///../node_modules/@sanity/block-content-to-react/lib/BlockContent.js","webpack:///./src/components/graphql-error-list.js","webpack:///../node_modules/@sanity/block-content-to-hyperscript/lib/internals.js"],"names":["generateHotspot","coverPhoto","hotspot","x","Math","floor","y","Container","children","coverColor","coverPhotoHeight","fullWidth","location","useLocation","pageOrder","currentPage","pathname","direction","current","prev","diff","console","log","getDirection","indexOf","arr","str","index","findIndex","value","includes","fuzzyIndexOf","state","prevPath","animateFromSide","initial","abs","animate","exit","transition","type","duration","Root","className","color","asset","div","key","maxWidth","node","noCaption","styled","React","_getSerializers","getSerializers","createElement","defaultSerializers","serializeSpan","module","exports","serializers","renderProps","nestMarks","generateHelpUrl","urlBuilder","objectAssign","enc","encodeURIComponent","materializeError","concat","props","options","projectId","dataset","Error","url","query","imageOptions","keys","Object","length","params","map","join","getQueryString","_ref","image","toString","buildMarksTree","nestLists","generateKeys","mergeSerializers","optionProps","defaults","isListItem","block","_type","listItem","h","properties","rawBlocks","Array","isArray","blocks","keyedBlocks","listNestMode","reduce","opts","serializeNode","siblings","isInline","list","level","_key","serializeListItem","i","findListItemIndex","marks","isSpan","blockProps","serializeBlock","renderContainerOnSingleChild","Boolean","nodes","containerProps","container","empty","checksum","hash","strlen","charCodeAt","item","JSON","stringify","replace","_typeof","obj","Symbol","iterator","constructor","prototype","userSerializers","acc","defaultMarks","sortMarksByOccurences","span","spans","markOccurences","occurences","mark","siblingIndex","sibling","sortByOccurence","sortMarks","bind","slice","sort","markA","markB","aOccurences","bOccurences","aDefaultPos","bDefaultPos","markDefs","sortedMarks","rootNode","nodeStack","forEach","marksNeeded","pos","markKey","splice","currentNode","findLastParentNode","find","def","push","text","lines","split","line","types","authorReference","author","name","mainImage","Figure","PortableText","w","fit","clientConfig","sanity","getImageUrl","serializerOpts","serializeOptions","useDashedStyles","RawMarkSerializer","tag","style","test","img","src","strong","em","code","underline","textDecoration","link","href","blockType","serializer","_props$node","markType","warn","markFallback","hardBreak","undefined","child","serializedNode","LayoutContainer","useState","showNav","setShowNav","currentHeaderImage","setCurrentHeaderImage","handleShowNav","handleHideNav","render","data","site","nextHeaderImage","amount","headerImages","prevImage","newImage","useEffect","window","headerInterval","setInterval","clearInterval","siteTitle","title","siteHeaderImages","onHideNav","onShowNav","isListBlock","blockMatchesList","listFromBlock","lastChild","findListMatching","matching","filterOnType","currentList","mode","arguments","tree","newList","lastListItem","newLastChild","match","_match","slug","PropTypes","internals","_require","blocksToNodes","renderNode","SanityBlockContent","customSerializers","assign","propTypes","string","bool","object","shape","func","oneOfType","arrayOf","isRequired","defaultProps","GraphQLErrorList","errors","error","message","_blocksToNodes"],"mappings":"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","file":"6717a18858912500b2399e8aa22587a96fcb2a36-3e75b7c3bd068913356e.js","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport { buildImageObj } from '../lib/helpers';\nimport { imageUrlFor } from '../lib/image-url';\nimport Figure from '../components/Figure';\nimport { useLocation } from '@reach/router';\nimport { AnimatePresence, motion } from 'framer-motion';\n\nconst getDirection = (current = 0, prev = 0) => {\n  if (current === -1) return 0;\n  const diff = current - prev;\n  console.log({ current, prev, diff });\n\n  if (diff < 0) return -1;\n  if (diff > 0) return 1;\n  return 0;\n};\n\nconst fuzzyIndexOf = (arr, str) => {\n  if (str === '/') return 0;\n\n  const index = arr.findIndex(value => {\n    if (value === '/') return false;\n    console.log({ value, str, includes: str.includes(value) });\n    return str.includes(value);\n  });\n\n  console.log({ index, str });\n  return index;\n};\nconst Container = ({\n  children,\n  coverPhoto,\n  coverColor = '#1a1',\n  coverPhotoHeight = 400,\n  fullWidth = false\n}) => {\n  const location = useLocation();\n  // const location = typeof useLocation === 'function' ? useLocation() : { pathname: '/', state: {} };\n  const pageOrder = ['/', '/about-tsuki', '/family', '/gallery', '/contact'];\n\n  const currentPage = location.pathname;\n  const currentPageIndex = pageOrder.indexOf(currentPage);\n\n  const prevPage = (location.state && location.state.prevPath) || currentPage;\n  // const prevPageIndex = pageOrder.indexOf(prevPage);\n  const prevPageIndex = fuzzyIndexOf(pageOrder, prevPage);\n\n  const direction = getDirection(currentPageIndex, prevPageIndex);\n  // console.log({ location, direction, prevPage, currentPage });\n\n  const animateFromSide = {\n    initial: { x: 1000 * direction, y: 1000 * Math.abs(Math.abs(direction) - 1) },\n    animate: { x: 0, y: 0 },\n    exit: { x: -1000 * direction, y: -1000 * Math.abs(Math.abs(direction) - 1) },\n    transition: { type: 'spring', duration: 0.8 }\n  };\n\n  const animateFromTop = {\n    initial: { y: -1000 },\n    animate: { y: 0 },\n    exit: { y: -1000 },\n    transition: { type: 'spring', duration: 0.5 }\n  };\n  const hotspot = generateHotspot(coverPhoto);\n  return (\n    <AnimatePresence>\n      <Root className={'root'} hotspot={hotspot} color={coverColor} fullWidth={fullWidth}>\n        {coverPhoto && coverPhoto.asset && (\n          <motion.div\n            className={'mainImage'}\n            key={`header-${location.pathname}`}\n            {...animateFromTop}\n          >\n            <Figure maxWidth={1920} node={coverPhoto} noCaption className=\"img-container\" />\n          </motion.div>\n        )}\n        {!coverPhoto && <div className={'mainImage'}></div>}\n        <motion.div\n          className=\"page-content\"\n          key={`content-${location.pathname}`}\n          {...animateFromSide}\n        >\n          {children}\n        </motion.div>\n      </Root>\n    </AnimatePresence>\n  );\n};\n\nconst generateHotspot = coverPhoto => {\n  if (!coverPhoto || !coverPhoto.hotspot) {\n    return { x: 'center', y: 'center' };\n  }\n  return {\n    x: `${Math.floor(coverPhoto.hotspot.x * 100)}%`,\n    y: `${Math.floor(coverPhoto.hotspot.y * 100)}%`\n  };\n};\n\nexport default Container;\n\nconst Root = styled.div`\n  .page-content {\n    background: #efefef;\n    min-height: 100vh;\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n    width: 100vw;\n    margin: 0 auto;\n    position: relative;\n    max-width: ${({ fullWidth }) => (fullWidth ? '100%' : '1200px')};\n    box-sizing: border-box;\n    padding: 1rem;\n    h1,\n    h2,\n    h3,\n    h4 {\n      margin: 0;\n      padding: 1rem 0;\n    }\n  }\n\n  .mainImage {\n    margin-top: -79px;\n    width: 100%;\n    background: black;\n    position: sticky;\n    top: calc(-400px + 79px);\n\n    z-index: 10;\n    left: 0%;\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n    height: ${({ coverPhotoHeight = 400 }) => `${coverPhotoHeight}px`};\n    border-bottom: 1px solid ${({ color }) => color};\n    display: flex;\n    background: ${({ color }) => color};\n\n    image-rendering: pixelated;\n    /* filter: blur(3px) contrast(115%) brightness(100%); */\n    @media (max-width: 904px) {\n      top: calc(-400px + 67px);\n    }\n    figure {\n      width: 100%;\n      margin: 0 auto;\n      height: ${({ coverPhotoHeight = 400 }) => `${coverPhotoHeight}px`};\n      overflow: hidden;\n\n      .gatsby-image-wrapper {\n        width: 100%;\n        height: 100%;\n      }\n\n      img {\n        object-fit: cover;\n        object-position: ${({ hotspot }) => `${hotspot.x} ${hotspot.y}`} !important;\n        width: 100%;\n        height: 100%;\n      }\n    }\n  }\n`;\n","'use strict';\n\nvar React = require('react');\n\nvar _require = require('@sanity/block-content-to-hyperscript/internals'),\n    getSerializers = _require.getSerializers;\n\nvar renderNode = React.createElement;\n\nvar _getSerializers = getSerializers(renderNode),\n    defaultSerializers = _getSerializers.defaultSerializers,\n    serializeSpan = _getSerializers.serializeSpan;\n\nmodule.exports = {\n  serializeSpan: serializeSpan,\n  serializers: defaultSerializers,\n  renderProps: {\n    nestMarks: true\n  }\n};","\"use strict\";\n\nvar generateHelpUrl = require('@sanity/generate-help-url');\n\nvar urlBuilder = require('@sanity/image-url');\n\nvar objectAssign = require('object-assign');\n\nvar enc = encodeURIComponent;\nvar materializeError = \"You must either:\\n  - Pass `projectId` and `dataset` to the block renderer\\n  - Materialize images to include the `url` field.\\n\\nFor more information, see \".concat(generateHelpUrl('block-content-image-materializing'));\n\nvar getQueryString = function getQueryString(options) {\n  var query = options.imageOptions;\n  var keys = Object.keys(query);\n\n  if (!keys.length) {\n    return '';\n  }\n\n  var params = keys.map(function (key) {\n    return \"\".concat(enc(key), \"=\").concat(enc(query[key]));\n  });\n  return \"?\".concat(params.join('&'));\n};\n\nvar buildUrl = function buildUrl(props) {\n  var node = props.node,\n      options = props.options;\n  var projectId = options.projectId,\n      dataset = options.dataset;\n  var asset = node.asset;\n\n  if (!asset) {\n    throw new Error('Image does not have required `asset` property');\n  }\n\n  if (asset.url) {\n    return asset.url + getQueryString(options);\n  }\n\n  if (!projectId || !dataset) {\n    throw new Error(materializeError);\n  }\n\n  var ref = asset._ref;\n\n  if (!ref) {\n    throw new Error('Invalid image reference in block, no `_ref` found on `asset`');\n  }\n\n  return urlBuilder(objectAssign({\n    projectId: projectId,\n    dataset: dataset\n  }, options.imageOptions || {})).image(node).toString();\n};\n\nmodule.exports = buildUrl;","\"use strict\";\n\nrequire(\"core-js/modules/es.array.reduce.js\");\n\nvar objectAssign = require('object-assign');\n\nvar buildMarksTree = require('./buildMarksTree');\n\nvar nestLists = require('./nestLists');\n\nvar generateKeys = require('./generateKeys');\n\nvar mergeSerializers = require('./mergeSerializers'); // Properties to extract from props and pass to serializers as options\n\n\nvar optionProps = ['projectId', 'dataset', 'imageOptions'];\n\nvar isDefined = function isDefined(val) {\n  return typeof val !== 'undefined';\n};\n\nvar defaults = {\n  imageOptions: {}\n};\n\nfunction blocksToNodes(h, properties, defaultSerializers, serializeSpan) {\n  var props = objectAssign({}, defaults, properties);\n  var rawBlocks = Array.isArray(props.blocks) ? props.blocks : [props.blocks];\n  var keyedBlocks = generateKeys(rawBlocks);\n  var blocks = nestLists(keyedBlocks, props.listNestMode);\n  var serializers = mergeSerializers(defaultSerializers, props.serializers || {});\n  var options = optionProps.reduce(function (opts, key) {\n    var value = props[key];\n\n    if (isDefined(value)) {\n      opts[key] = value;\n    }\n\n    return opts;\n  }, {});\n\n  function serializeNode(node, index, siblings, isInline) {\n    if (isList(node)) {\n      return serializeList(node);\n    }\n\n    if (isListItem(node)) {\n      return serializeListItem(node, findListItemIndex(node, siblings));\n    }\n\n    if (isSpan(node)) {\n      return serializeSpan(node, serializers, index, {\n        serializeNode: serializeNode\n      });\n    }\n\n    return serializeBlock(node, index, isInline);\n  }\n\n  function findListItemIndex(node, siblings) {\n    var index = 0;\n\n    for (var i = 0; i < siblings.length; i++) {\n      if (siblings[i] === node) {\n        return index;\n      }\n\n      if (!isListItem(siblings[i])) {\n        continue;\n      }\n\n      index++;\n    }\n\n    return index;\n  }\n\n  function serializeBlock(block, index, isInline) {\n    var tree = buildMarksTree(block);\n    var children = tree.map(function (node, i, siblings) {\n      return serializeNode(node, i, siblings, true);\n    });\n    var blockProps = {\n      key: block._key || \"block-\".concat(index),\n      node: block,\n      isInline: isInline,\n      serializers: serializers,\n      options: options\n    };\n    return h(serializers.block, blockProps, children);\n  }\n\n  function serializeListItem(block, index) {\n    var key = block._key;\n    var tree = buildMarksTree(block);\n    var children = tree.map(serializeNode);\n    return h(serializers.listItem, {\n      node: block,\n      serializers: serializers,\n      index: index,\n      key: key,\n      options: options\n    }, children);\n  }\n\n  function serializeList(list) {\n    var type = list.listItem;\n    var level = list.level;\n    var key = list._key;\n    var children = list.children.map(serializeNode);\n    return h(serializers.list, {\n      key: key,\n      level: level,\n      type: type,\n      options: options\n    }, children);\n  } // Default to false, so `undefined` will evaluate to the default here\n\n\n  var renderContainerOnSingleChild = Boolean(props.renderContainerOnSingleChild);\n  var nodes = blocks.map(serializeNode);\n\n  if (renderContainerOnSingleChild || nodes.length > 1) {\n    var containerProps = props.className ? {\n      className: props.className\n    } : {};\n    return h(serializers.container, containerProps, nodes);\n  }\n\n  if (nodes[0]) {\n    return nodes[0];\n  }\n\n  return typeof serializers.empty === 'function' ? h(serializers.empty) : serializers.empty;\n}\n\nfunction isList(block) {\n  return block._type === 'list' && block.listItem;\n}\n\nfunction isListItem(block) {\n  return block._type === 'block' && block.listItem;\n}\n\nfunction isSpan(block) {\n  return typeof block === 'string' || block.marks || block._type === 'span';\n}\n\nmodule.exports = blocksToNodes;","\"use strict\";\n\nvar objectAssign = require('object-assign');\n\nmodule.exports = function (blocks) {\n  return blocks.map(function (block) {\n    if (block._key) {\n      return block;\n    }\n\n    return objectAssign({\n      _key: getStaticKey(block)\n    }, block);\n  });\n};\n\nfunction getStaticKey(item) {\n  return checksum(JSON.stringify(item)).toString(36).replace(/[^A-Za-z0-9]/g, '');\n}\n/* eslint-disable no-bitwise */\n\n\nfunction checksum(str) {\n  var hash = 0;\n  var strlen = str.length;\n\n  if (strlen === 0) {\n    return hash;\n  }\n\n  for (var i = 0; i < strlen; i++) {\n    hash = (hash << 5) - hash + str.charCodeAt(i);\n    hash &= hash; // Convert to 32bit integer\n  }\n\n  return hash;\n}\n/* eslint-enable no-bitwise */","module.exports = require('./lib/internals');","\"use strict\";\n\nrequire(\"core-js/modules/es.array.reduce.js\");\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar objectAssign = require('object-assign');\n\nvar isDefined = function isDefined(val) {\n  return typeof val !== 'undefined';\n}; // Recursively merge/replace default serializers with user-specified serializers\n\n\nmodule.exports = function mergeSerializers(defaultSerializers, userSerializers) {\n  return Object.keys(defaultSerializers).reduce(function (acc, key) {\n    var type = _typeof(defaultSerializers[key]);\n\n    if (type === 'function') {\n      acc[key] = isDefined(userSerializers[key]) ? userSerializers[key] : defaultSerializers[key];\n    } else if (type === 'object') {\n      acc[key] = objectAssign({}, defaultSerializers[key], userSerializers[key]);\n    } else {\n      acc[key] = typeof userSerializers[key] === 'undefined' ? defaultSerializers[key] : userSerializers[key];\n    }\n\n    return acc;\n  }, {});\n};","\"use strict\";\n\nrequire(\"core-js/modules/es.array.reduce.js\");\n\nvar defaultMarks = ['strong', 'em', 'code', 'underline', 'strike-through'];\n\nvar buildMarksTree = function buildMarksTree(block) {\n  var children = block.children,\n      markDefs = block.markDefs;\n\n  if (!children || !children.length) {\n    return [];\n  }\n\n  var sortedMarks = children.map(sortMarksByOccurences);\n  var rootNode = {\n    _type: 'span',\n    children: []\n  };\n  var nodeStack = [rootNode];\n  children.forEach(function (span, i) {\n    var marksNeeded = sortedMarks[i];\n\n    if (!marksNeeded) {\n      var lastNode = nodeStack[nodeStack.length - 1];\n      lastNode.children.push(span);\n      return;\n    }\n\n    var pos = 1; // Start at position one. Root is always plain and should never be removed. (?)\n\n    if (nodeStack.length > 1) {\n      for (pos; pos < nodeStack.length; pos++) {\n        var mark = nodeStack[pos].markKey;\n        var index = marksNeeded.indexOf(mark); // eslint-disable-next-line max-depth\n\n        if (index === -1) {\n          break;\n        }\n\n        marksNeeded.splice(index, 1);\n      }\n    } // Keep from beginning to first miss\n\n\n    nodeStack = nodeStack.slice(0, pos); // Add needed nodes\n\n    var currentNode = findLastParentNode(nodeStack);\n    marksNeeded.forEach(function (mark) {\n      var node = {\n        _type: 'span',\n        _key: span._key,\n        children: [],\n        mark: markDefs.find(function (def) {\n          return def._key === mark;\n        }) || mark,\n        markKey: mark\n      };\n      currentNode.children.push(node);\n      nodeStack.push(node);\n      currentNode = node;\n    }); // Split at newlines to make individual line chunks, but keep newline\n    // characters as individual elements in the array. We use these characters\n    // in the span serializer to trigger hard-break rendering\n\n    if (isTextSpan(span)) {\n      var lines = span.text.split('\\n');\n\n      for (var line = lines.length; line-- > 1;) {\n        lines.splice(line, 0, '\\n');\n      }\n\n      currentNode.children = currentNode.children.concat(lines);\n    } else {\n      currentNode.children = currentNode.children.concat(span);\n    }\n  });\n  return rootNode.children;\n}; // We want to sort all the marks of all the spans in the following order:\n// 1. Marks that are shared amongst the most adjacent siblings\n// 2. Non-default marks (links, custom metadata)\n// 3. Built-in, plain marks (bold, emphasis, code etc)\n\n\nfunction sortMarksByOccurences(span, i, spans) {\n  if (!span.marks || span.marks.length === 0) {\n    return span.marks || [];\n  }\n\n  var markOccurences = span.marks.reduce(function (occurences, mark) {\n    occurences[mark] = occurences[mark] ? occurences[mark] + 1 : 1;\n\n    for (var siblingIndex = i + 1; siblingIndex < spans.length; siblingIndex++) {\n      var sibling = spans[siblingIndex];\n\n      if (sibling.marks && Array.isArray(sibling.marks) && sibling.marks.indexOf(mark) !== -1) {\n        occurences[mark]++;\n      } else {\n        break;\n      }\n    }\n\n    return occurences;\n  }, {});\n  var sortByOccurence = sortMarks.bind(null, markOccurences); // Slicing because sort() mutates the input\n\n  return span.marks.slice().sort(sortByOccurence);\n}\n\nfunction sortMarks(occurences, markA, markB) {\n  var aOccurences = occurences[markA] || 0;\n  var bOccurences = occurences[markB] || 0;\n\n  if (aOccurences !== bOccurences) {\n    return bOccurences - aOccurences;\n  }\n\n  var aDefaultPos = defaultMarks.indexOf(markA);\n  var bDefaultPos = defaultMarks.indexOf(markB); // Sort default marks last\n\n  if (aDefaultPos !== bDefaultPos) {\n    return aDefaultPos - bDefaultPos;\n  } // Sort other marks simply by key\n\n\n  if (markA < markB) {\n    return -1;\n  } else if (markA > markB) {\n    return 1;\n  }\n\n  return 0;\n}\n\nfunction isTextSpan(node) {\n  return node._type === 'span' && typeof node.text === 'string' && (Array.isArray(node.marks) || typeof node.marks === 'undefined');\n}\n\nfunction findLastParentNode(nodes) {\n  for (var i = nodes.length - 1; i >= 0; i--) {\n    var node = nodes[i];\n\n    if (node._type === 'span' && node.children) {\n      return node;\n    }\n  }\n\n  return undefined;\n}\n\nmodule.exports = buildMarksTree;","import React from 'react'\nimport Figure from './Figure'\n\nconst serializers = {\n  types: {\n    authorReference: ({node}) => <span>{node.author.name}</span>,\n    mainImage: Figure\n  }\n}\n\nexport default serializers\n","import React from 'react';\nimport clientConfig from '../../client-config';\nimport BasePortableText from '@sanity/block-content-to-react';\nimport serializers from './serializers';\n\nconst PortableText = ({ blocks }) => (\n  <BasePortableText\n    imageOptions={{ w: 1201, h: 676, fit: 'max' }}\n    blocks={blocks}\n    serializers={serializers}\n    {...clientConfig.sanity}\n  />\n);\n\nexport default PortableText;\n","\"use strict\";\n\nvar objectAssign = require('object-assign');\n\nvar getImageUrl = require('./getImageUrl');\n\nmodule.exports = function (h, serializerOpts) {\n  var serializeOptions = serializerOpts || {\n    useDashedStyles: false // Low-level block serializer\n\n  };\n\n  function BlockSerializer(props) {\n    var node = props.node,\n        serializers = props.serializers,\n        options = props.options,\n        isInline = props.isInline,\n        children = props.children;\n    var blockType = node._type;\n    var serializer = serializers.types[blockType];\n\n    if (!serializer) {\n      throw new Error(\"Unknown block type \\\"\".concat(blockType, \"\\\", please specify a serializer for it in the `serializers.types` prop\"));\n    }\n\n    return h(serializer, {\n      node: node,\n      options: options,\n      isInline: isInline\n    }, children);\n  } // Low-level span serializer\n\n\n  function SpanSerializer(props) {\n    var _props$node = props.node,\n        mark = _props$node.mark,\n        children = _props$node.children;\n    var isPlain = typeof mark === 'string';\n    var markType = isPlain ? mark : mark._type;\n    var serializer = props.serializers.marks[markType];\n\n    if (!serializer) {\n      // @todo Revert back to throwing errors?\n      // eslint-disable-next-line no-console\n      console.warn(\"Unknown mark type \\\"\".concat(markType, \"\\\", please specify a serializer for it in the `serializers.marks` prop\"));\n      return h(props.serializers.markFallback, null, children);\n    }\n\n    return h(serializer, props.node, children);\n  } // Low-level list serializer\n\n\n  function ListSerializer(props) {\n    var tag = props.type === 'bullet' ? 'ul' : 'ol';\n    return h(tag, null, props.children);\n  } // Low-level list item serializer\n\n\n  function ListItemSerializer(props) {\n    var children = !props.node.style || props.node.style === 'normal' ? // Don't wrap plain text in paragraphs inside of a list item\n    props.children : // But wrap any other style in whatever the block serializer says to use\n    h(props.serializers.types.block, props, props.children);\n    return h('li', null, children);\n  } // Renderer of an actual block of type `block`. Confusing, we know.\n\n\n  function BlockTypeSerializer(props) {\n    var style = props.node.style || 'normal';\n\n    if (/^h\\d/.test(style)) {\n      return h(style, null, props.children);\n    }\n\n    return style === 'blockquote' ? h('blockquote', null, props.children) : h('p', null, props.children);\n  } // Serializers for things that can be directly attributed to a tag without any props\n  // We use partial application to do this, passing the tag name as the first argument\n\n\n  function RawMarkSerializer(tag, props) {\n    return h(tag, null, props.children);\n  }\n\n  function UnderlineSerializer(props) {\n    var style = serializeOptions.useDashedStyles ? {\n      'text-decoration': 'underline'\n    } : {\n      textDecoration: 'underline'\n    };\n    return h('span', {\n      style: style\n    }, props.children);\n  }\n\n  function StrikeThroughSerializer(props) {\n    return h('del', null, props.children);\n  }\n\n  function LinkSerializer(props) {\n    return h('a', {\n      href: props.mark.href\n    }, props.children);\n  }\n\n  function ImageSerializer(props) {\n    if (!props.node.asset) {\n      return null;\n    }\n\n    var img = h('img', {\n      src: getImageUrl(props)\n    });\n    return props.isInline ? img : h('figure', null, img);\n  } // Serializer that recursively calls itself, producing a hyperscript tree of spans\n\n\n  function serializeSpan(span, serializers, index, options) {\n    if (span === '\\n' && serializers.hardBreak) {\n      return h(serializers.hardBreak, {\n        key: \"hb-\".concat(index)\n      });\n    }\n\n    if (typeof span === 'string') {\n      return serializers.text ? h(serializers.text, {\n        key: \"text-\".concat(index)\n      }, span) : span;\n    }\n\n    var children;\n\n    if (span.children) {\n      children = {\n        children: span.children.map(function (child, i) {\n          return options.serializeNode(child, i, span.children, true);\n        })\n      };\n    }\n\n    var serializedNode = objectAssign({}, span, children);\n    return h(serializers.span, {\n      key: span._key || \"span-\".concat(index),\n      node: serializedNode,\n      serializers: serializers\n    });\n  }\n\n  var HardBreakSerializer = function HardBreakSerializer() {\n    return h('br');\n  };\n\n  var defaultMarkSerializers = {\n    strong: RawMarkSerializer.bind(null, 'strong'),\n    em: RawMarkSerializer.bind(null, 'em'),\n    code: RawMarkSerializer.bind(null, 'code'),\n    underline: UnderlineSerializer,\n    'strike-through': StrikeThroughSerializer,\n    link: LinkSerializer\n  };\n  var defaultSerializers = {\n    // Common overrides\n    types: {\n      block: BlockTypeSerializer,\n      image: ImageSerializer\n    },\n    marks: defaultMarkSerializers,\n    // Less common overrides\n    list: ListSerializer,\n    listItem: ListItemSerializer,\n    block: BlockSerializer,\n    span: SpanSerializer,\n    hardBreak: HardBreakSerializer,\n    // Container element\n    container: 'div',\n    // When we can't resolve the mark properly, use this renderer as the container\n    markFallback: 'span',\n    // Allow overriding text renderer, but leave undefined to just use plain strings by default\n    text: undefined,\n    // Empty nodes (React uses null, hyperscript with empty strings)\n    empty: ''\n  };\n  return {\n    defaultSerializers: defaultSerializers,\n    serializeSpan: serializeSpan\n  };\n};","import { graphql, StaticQuery } from 'gatsby';\nimport React, { useState, useEffect } from 'react';\nimport Layout from '../components/layout';\n\nconst query = graphql`\n  query SiteTitleQuery {\n    site: sanitySiteSettings(_id: { regex: \"/(drafts.|)siteSettings/\" }) {\n      title\n      headerImages {\n        ...SanityImageFragment\n      }\n    }\n  }\n`;\n\nfunction LayoutContainer(props) {\n  const [showNav, setShowNav] = useState(false);\n  const [currentHeaderImage, setCurrentHeaderImage] = useState(0);\n\n  function handleShowNav() {\n    setShowNav(true);\n  }\n  function handleHideNav() {\n    setShowNav(false);\n  }\n\n  return (\n    <StaticQuery\n      query={query}\n      render={data => {\n        if (!data.site) {\n          throw new Error(\n            'Missing \"Site settings\". Open the Studio at http://localhost:3333 and some content in \"Site settings\"'\n          );\n        }\n\n        const nextHeaderImage = (amount = 1) => {\n          if (amount < 0) {\n            return setCurrentHeaderImage(data.site.headerImages.length - 1);\n          }\n\n          setCurrentHeaderImage(prevImage => {\n            const newImage = prevImage + amount;\n            if (data.site.headerImages[newImage] === undefined) {\n              return 0;\n            } else {\n              return newImage;\n            }\n          });\n        };\n\n        useEffect(() => {\n          if (!window) return;\n          const headerInterval = setInterval(() => {\n            nextHeaderImage(1);\n          }, 5000);\n\n          return () => {\n            clearInterval(headerInterval);\n          };\n        }, []);\n\n        return (\n          <Layout\n            {...props}\n            showNav={showNav}\n            siteTitle={data.site.title}\n            siteHeaderImages={data.site.headerImages}\n            nextHeaderImage={nextHeaderImage}\n            currentHeaderImage={currentHeaderImage}\n            setCurrentHeaderImage={setCurrentHeaderImage}\n            onHideNav={handleHideNav}\n            onShowNav={handleShowNav}\n          />\n        );\n      }}\n    />\n  );\n}\n\nexport default LayoutContainer;\n","\"use strict\";\n\nvar objectAssign = require('object-assign');\n/* eslint-disable max-depth, complexity */\n\n\nfunction nestLists(blocks) {\n  var mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'html';\n  var tree = [];\n  var currentList;\n\n  for (var i = 0; i < blocks.length; i++) {\n    var block = blocks[i];\n\n    if (!isListBlock(block)) {\n      tree.push(block);\n      currentList = null;\n      continue;\n    } // Start of a new list?\n\n\n    if (!currentList) {\n      currentList = listFromBlock(block);\n      tree.push(currentList);\n      continue;\n    } // New list item within same list?\n\n\n    if (blockMatchesList(block, currentList)) {\n      currentList.children.push(block);\n      continue;\n    } // Different list props, are we going deeper?\n\n\n    if (block.level > currentList.level) {\n      var newList = listFromBlock(block);\n\n      if (mode === 'html') {\n        // Because HTML is kinda weird, nested lists needs to be nested within list items\n        // So while you would think that we could populate the parent list with a new sub-list,\n        // We actually have to target the last list element (child) of the parent.\n        // However, at this point we need to be very careful - simply pushing to the list of children\n        // will mutate the input, and we don't want to blindly clone the entire tree.\n        // Clone the last child while adding our new list as the last child of it\n        var lastListItem = lastChild(currentList);\n        var newLastChild = objectAssign({}, lastListItem, {\n          children: lastListItem.children.concat(newList)\n        }); // Swap the last child\n\n        currentList.children[currentList.children.length - 1] = newLastChild;\n      } else {\n        currentList.children.push(newList);\n      } // Set the newly created, deeper list as the current\n\n\n      currentList = newList;\n      continue;\n    } // Different list props, are we going back up the tree?\n\n\n    if (block.level < currentList.level) {\n      // Current list has ended, and we need to hook up with a parent of the same level and type\n      var match = findListMatching(tree[tree.length - 1], block);\n\n      if (match) {\n        currentList = match;\n        currentList.children.push(block);\n        continue;\n      } // Similar parent can't be found, assume new list\n\n\n      currentList = listFromBlock(block);\n      tree.push(currentList);\n      continue;\n    } // Different list props, different list style?\n\n\n    if (block.listItem !== currentList.listItem) {\n      var _match = findListMatching(tree[tree.length - 1], {\n        level: block.level\n      });\n\n      if (_match && _match.listItem === block.listItem) {\n        currentList = _match;\n        currentList.children.push(block);\n        continue;\n      } else {\n        currentList = listFromBlock(block);\n        tree.push(currentList);\n        continue;\n      }\n    } // eslint-disable-next-line no-console\n\n\n    console.warn('Unknown state encountered for block', block);\n    tree.push(block);\n  }\n\n  return tree;\n}\n\nfunction isListBlock(block) {\n  return Boolean(block.listItem);\n}\n\nfunction blockMatchesList(block, list) {\n  return block.level === list.level && block.listItem === list.listItem;\n}\n\nfunction listFromBlock(block) {\n  return {\n    _type: 'list',\n    _key: \"\".concat(block._key, \"-parent\"),\n    level: block.level,\n    listItem: block.listItem,\n    children: [block]\n  };\n}\n\nfunction lastChild(block) {\n  return block.children && block.children[block.children.length - 1];\n}\n\nfunction findListMatching(rootNode, matching) {\n  var filterOnType = typeof matching.listItem === 'string';\n\n  if (rootNode._type === 'list' && rootNode.level === matching.level && filterOnType && rootNode.listItem === matching.listItem) {\n    return rootNode;\n  }\n\n  var node = lastChild(rootNode);\n\n  if (!node) {\n    return false;\n  }\n\n  return findListMatching(node, matching);\n}\n\nmodule.exports = nestLists;","var baseUrl = 'https://docs.sanity.io/help/';\n\nmodule.exports = function generateHelpUrl(slug) {\n  return baseUrl + slug;\n};","'use strict';\n\nvar React = require('react');\n\nvar PropTypes = require('prop-types');\n\nvar internals = require('@sanity/block-content-to-hyperscript/internals');\n\nvar _require = require('./targets/dom'),\n    serializers = _require.serializers,\n    serializeSpan = _require.serializeSpan,\n    renderProps = _require.renderProps;\n\nvar getImageUrl = internals.getImageUrl,\n    blocksToNodes = internals.blocksToNodes,\n    mergeSerializers = internals.mergeSerializers;\nvar renderNode = React.createElement;\n\nvar SanityBlockContent = function SanityBlockContent(props) {\n  var customSerializers = mergeSerializers(SanityBlockContent.defaultSerializers, props.serializers);\n  var blockProps = Object.assign({}, renderProps, props, {\n    serializers: customSerializers,\n    blocks: props.blocks || []\n  });\n  return blocksToNodes(renderNode, blockProps, serializers, serializeSpan);\n}; // Expose default serializers to the user\n\n\nSanityBlockContent.defaultSerializers = serializers; // Expose logic for building image URLs from an image reference/node\n\nSanityBlockContent.getImageUrl = getImageUrl;\nSanityBlockContent.propTypes = {\n  className: PropTypes.string,\n  renderContainerOnSingleChild: PropTypes.bool,\n  // When rendering images, we need project id and dataset, unless images are materialized\n  projectId: PropTypes.string,\n  dataset: PropTypes.string,\n  imageOptions: PropTypes.object,\n  serializers: PropTypes.shape({\n    // Common overrides\n    types: PropTypes.object,\n    marks: PropTypes.object,\n    // Less common overrides\n    list: PropTypes.func,\n    listItem: PropTypes.func,\n    // Low-level serializers\n    block: PropTypes.func,\n    span: PropTypes.func\n  }),\n  blocks: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.shape({\n    _type: PropTypes.string.isRequired\n  })), PropTypes.shape({\n    _type: PropTypes.string.isRequired\n  })]).isRequired\n};\nSanityBlockContent.defaultProps = {\n  renderContainerOnSingleChild: false,\n  serializers: {},\n  imageOptions: {}\n};\nmodule.exports = SanityBlockContent;","import React from 'react'\n\nconst GraphQLErrorList = ({ errors }) => (\n  <div>\n    <h1>GraphQL Error</h1>\n    {errors.map(error => (\n      <pre key={error.message}>{error.message}</pre>\n    ))}\n  </div>\n)\n\nexport default GraphQLErrorList\n","\"use strict\";\n\nvar getSerializers = require('./serializers');\n\nvar _blocksToNodes = require('./blocksToNodes');\n\nvar getImageUrl = require('./getImageUrl');\n\nvar mergeSerializers = require('./mergeSerializers');\n\nmodule.exports = {\n  blocksToNodes: function blocksToNodes(renderNode, props, defaultSerializers, serializeSpan) {\n    if (defaultSerializers) {\n      return _blocksToNodes(renderNode, props, defaultSerializers, serializeSpan);\n    } // Backwards-compatibility\n\n\n    var serializers = getSerializers(renderNode);\n    return _blocksToNodes(renderNode, props, serializers.defaultSerializers, serializers.serializeSpan);\n  },\n  getSerializers: getSerializers,\n  getImageUrl: getImageUrl,\n  mergeSerializers: mergeSerializers\n};"],"sourceRoot":""}